@tailwind base;
@tailwind components;
@tailwind utilities;

/* Triptomat Design System — Dark Mode Only, Peach Accent */

@layer base {
  :root,
  .dark {
    /* ── Core palette ───────────────────────────────── */
    /* Background: #0a0a0a */
    --background: 0 0% 4%;
    --foreground: 0 0% 100%;

    /* Surface (cards, panels): #1a1a1a */
    --card: 0 0% 10%;
    --card-foreground: 0 0% 100%;

    --popover: 0 0% 10%;
    --popover-foreground: 0 0% 100%;

    /* Accent/Primary: #FF8C69 (warm peach) */
    --primary: 14 100% 71%;
    --primary-foreground: 0 0% 4%;

    /* Surface secondary: #222222 */
    --secondary: 0 0% 13%;
    --secondary-foreground: 0 0% 100%;

    --muted: 0 0% 13%;
    --muted-foreground: 0 0% 53%;   /* #888888 */

    --accent: 14 100% 71%;
    --accent-foreground: 0 0% 4%;

    /* Borders: #222222 */
    --border: 0 0% 13%;
    --input: 0 0% 16%;
    --ring: 14 100% 71%;

    /* Alert: #ef4444 */
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;

    /* Border radius — 16px */
    --radius: 1rem;

    /* ── Semantic / status ──────────────────────────── */
    --success: 142 70% 40%;
    --success-foreground: 0 0% 100%;
    --warning: 38 92% 50%;
    --warning-foreground: 0 0% 4%;
    --info: 199 89% 48%;
    --info-foreground: 0 0% 4%;

    /* ── Transport type colors ──────────────────────── */
    --transport-flight: 210 90% 55%;
    --transport-train: 142 70% 40%;
    --transport-ferry: 199 89% 48%;
    --transport-car: 38 92% 50%;

    /* ── Status ─────────────────────────────────────── */
    --status-booked: 142 70% 40%;
    --status-pending: 38 92% 50%;

    /* ── Gradients ──────────────────────────────────── */
    --gradient-hero: linear-gradient(135deg, #FF8C69 0%, #ff6b3d 100%);
    --gradient-card: linear-gradient(180deg, #1a1a1a 0%, #111111 100%);
    --gradient-sunset: linear-gradient(135deg, #FF8C69 0%, #ff6b3d 100%);

    /* ── Shadows ────────────────────────────────────── */
    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.4);
    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.5), 0 2px 4px -2px rgb(0 0 0 / 0.4);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.5), 0 4px 6px -4px rgb(0 0 0 / 0.4);
    --shadow-card: 0 4px 20px -4px rgb(255 140 105 / 0.15);

    /* ── Sidebar (reuse surface colors) ─────────────── */
    --sidebar-background: 0 0% 7%;
    --sidebar-foreground: 0 0% 100%;
    --sidebar-primary: 14 100% 71%;
    --sidebar-primary-foreground: 0 0% 4%;
    --sidebar-accent: 0 0% 13%;
    --sidebar-accent-foreground: 0 0% 100%;
    --sidebar-border: 0 0% 13%;
    --sidebar-ring: 14 100% 71%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  html {
    scroll-behavior: smooth;
    color-scheme: dark;
  }

  body {
    @apply bg-background text-foreground antialiased;
    font-family: 'Assistant', system-ui, sans-serif;
    font-size: 0.8rem;
    font-weight: 400;
    font-feature-settings: "rlig" 1, "calt" 1;
    overscroll-behavior: none;
  }

  h1, h2 {
    font-weight: 800;
  }

  h3, h4, h5, h6 {
    font-weight: 700;
  }
}

@layer components {
  /* ── Card with accent left border (spec: 4px, accent color) ── */
  .accent-card {
    border-left: 4px solid hsl(var(--accent));
    @apply bg-card rounded-2xl;
  }

  /* ── Card hover effect ────────────────────────────────────── */
  .card-hover {
    @apply transition-all duration-300 ease-out;
    box-shadow: var(--shadow-md);
  }
  .card-hover:hover {
    box-shadow: var(--shadow-card);
    transform: translateY(-2px);
  }

  /* ── Timeline connector ───────────────────────────────────── */
  .timeline-line {
    @apply absolute left-6 top-12 bottom-0 w-0.5;
    background: linear-gradient(to bottom, hsl(var(--primary) / 0.4), transparent);
  }

  /* ── Status badges ────────────────────────────────────────── */
  .badge-booked {
    @apply bg-[hsl(var(--success))] text-[hsl(var(--success-foreground))];
  }
  .badge-pending {
    @apply bg-[hsl(var(--warning))] text-[hsl(var(--warning-foreground))];
  }

  /* ── Transport icon backgrounds ───────────────────────────── */
  .transport-flight { @apply bg-[hsl(var(--transport-flight))]; }
  .transport-train  { @apply bg-[hsl(var(--transport-train))]; }
  .transport-ferry  { @apply bg-[hsl(var(--transport-ferry))]; }
  .transport-car    { @apply bg-[hsl(var(--transport-car))]; }

  /* ── Gradient helpers ─────────────────────────────────────── */
  .bg-hero-gradient   { background: var(--gradient-hero); }
  .bg-sunset-gradient { background: var(--gradient-sunset); }

  /* ── Pill shape (999px radius) ────────────────────────────── */
  .pill {
    @apply rounded-full px-3 py-1 text-xs font-medium;
  }
}

@layer utilities {
  .animate-fade-in  { animation: fadeIn 0.3s ease-out; }
  .animate-slide-up { animation: slideUp 0.4s ease-out; }
  .animate-scale-in { animation: scaleIn 0.2s ease-out; }
}

@keyframes fadeIn {
  from { opacity: 0; }
  to   { opacity: 1; }
}

@keyframes slideUp {
  from { opacity: 0; transform: translateY(10px); }
  to   { opacity: 1; transform: translateY(0); }
}

@keyframes scaleIn {
  from { opacity: 0; transform: scale(0.95); }
  to   { opacity: 1; transform: scale(1); }
}

/* ── Leaflet map overrides ────────────────────────────────── */
.leaflet-container {
  @apply rounded-lg;
  font-family: inherit;
  background: #0a0a0a;
}
.leaflet-popup-content-wrapper {
  background: #1a1a1a;
  color: #fff;
  @apply rounded-lg shadow-lg;
}
.leaflet-control-zoom {
  @apply border-none shadow-md rounded-lg overflow-hidden;
}
.leaflet-control-zoom a {
  background: #1a1a1a;
  color: #fff;
  @apply border-none;
}
.leaflet-control-zoom a:hover {
  background: #222222;
}
